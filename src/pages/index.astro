---
import MainLayout from "../layouts/MainLayout.astro";
import MoviesGrid, { Sort } from "../components/grids/MoviesGrid.astro";
import { SEO } from "astro-seo";
import { allMovies } from "../content.config";
import FeaturedMovie from "../components/cards/FeaturedMovie.astro";

const ratedMovies = allMovies.filter(movie => movie.scareScaleRating >= 6);

const randomMovie = ratedMovies.length > 0
  ? ratedMovies[Math.floor(Math.random() * ratedMovies.length)]
  : null;
---

<head>
  <meta charset="UTF-8" />
  <SEO
    title="Scare Scale - Home"
    description="Discover how scary your favorite horror movies really are with detailed ratings across Gore, Creepy, Jumpscares, Suspense, and Psychological horror categories."
    canonical="https://scarescale.com/"
    openGraph={{
      basic: {
        type: "website",
        url: "https://scarescale.com/",
        title: "Scare Scale - Horror Movie Scare Ratings | Fear Factor Breakdown",
        image: "https://scarescale.com/screenshots/home_page_screenshot.png",
      },
      optional: {
        description: "Rank horror movies by Gore, Creepy moments, Jumpscares, Suspense, and Psychological fear. Find the scariest films ranked by their chilling impact!",
      }
    }}
  />
  <meta name="keywords" content="horror movies, scare ratings, gore, creepy, jumpscares, suspense, psychological horror" />
  <script type="application/ld+json">
    {{
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Scare Scale",
      "url": "https://scarescale.com/",
      "description": "Discover how scary your favorite horror movies really are with detailed ratings.",
    }}
  </script>
</head>

<MainLayout>
  <section class="flex flex-col gap-y-10 md:gap-y-20">
    <div
      class="relative isolate overflow-hidden px-6 pt-16 shadow-2xl sm:px-16 md:pt-24 lg:flex lg:gap-x-20 lg:px-24 lg:pt-0 min-h-screen"
    >
      <div
        class="mx-auto max-w-md text-center lg:mx-0 lg:flex-auto lg:py-32 lg:text-left"
      >
        <h2
          class="text-3xl font-semibold tracking-tight text-balance text-white sm:text-4xl"
        >
          Scare Scale: Where Horror Finds Its Score.
        </h2>
        <p class="mt-6 text-lg/8 text-pretty text-gray-300">
          We score horror movies across five core fear categories to uncover the films that are truly terrifying.
        </p>
        <div
          class="mt-10 flex items-center justify-center gap-x-6 lg:justify-start"
        >
          <a
            href="/recommended"
            class="rounded-md bg-white px-3.5 py-2.5 text-sm font-semibold text-gray-900 shadow-xs hover:bg-gray-100 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
            >Scare Scale Approved</a
          >
          <a href="/ranks" class="text-sm/6 font-semibold text-white"
            >Horror Ranks <span aria-hidden="true">â†’</span></a
          >
        </div>
        {randomMovie && (
          <FeaturedMovie movie={randomMovie} />
        )}
      </div>
      <div class="mt-16 lg:mt-8">
        <MoviesGrid sort={Sort.ReleaseDateDecending} maxCount={15}/>
      </div>
    </div>
  </section>
</MainLayout>
