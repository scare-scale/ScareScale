---
import MainLayout from "../layouts/MainLayout.astro";
import MoviesGrid, { Sort } from "../components/grids/MoviesGrid.astro";
import { SEO } from "astro-seo";
import FeaturedMovie from "../components/cards/FeaturedMovie.astro";
import { movies } from "../lib/movies";

const ratedMovies = movies.getApproved();

// Random sort movies
const approvedMovies = ratedMovies.sort(() => Math.random() - 0.5);
---

<head>
  <meta charset="UTF-8" />
  <SEO
    title="Scare Scale - Home"
    description="Discover how scary your favorite horror movies really are with detailed ratings across Gore, Creepy, Jumpscares, Suspense, and Psychological horror categories."
    canonical="https://scarescale.com/"
    openGraph={{
      basic: {
        type: "website",
        url: "https://scarescale.com/",
        title:
          "Scare Scale - Horror Movie Scare Ratings | Fear Factor Breakdown",
        image: "https://scarescale.com/screenshots/home_page_screenshot.png",
      },
      optional: {
        description:
          "Rank horror movies by Gore, Creepy moments, Jumpscares, Suspense, and Psychological fear. Find the scariest films ranked by their chilling impact!",
      },
    }}
  />
  <meta
    name="keywords"
    content="horror movies, scare ratings, gore, creepy, jumpscares, suspense, psychological horror"
  />
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Scare Scale",
      "url": "https://scarescale.com/",
      "description": "Discover how scary your favorite horror movies really are with detailed ratings."
    }
  </script>
</head>

<MainLayout>
  <section class="min-h-screen">
    <div class="relative isolate overflow-hidden min-h-screen">
      <!-- 6-Column Grid Layout -->
      <div
        class="relative z-20 grid grid-cols-6 gap-6 lg:gap-8 min-h-screen p-6 lg:p-8"
      >
        <!-- Left Side - 2 Columns -->
        <div
          class="col-span-6 lg:col-span-2 flex flex-col justify-start space-y-8 pt-8 lg:pt-16"
        >
          <div class="space-y-6">
            <h2
              class="font-bold tracking-tight text-balance text-white text-6xl leading-tight text-center lg:text-left"
            >
              Scare Scale
              <span class="block text-blood-700 text-4xl"
                >Where Horror Finds Its Score</span
              >
            </h2>
            <p
              class="text-lg text-gray-300 leading-relaxed max-w-md text-center lg:text-left mx-auto lg:mx-0"
            >
              We score horror movies across five core fear categories to uncover
              the films that are truly terrifying.
            </p>
            <div
              class="mt-12 flex flex-row items-center justify-center gap-4 lg:justify-start"
            >
              <a
                href="/approved"
                class="rounded-lg bg-gradient-to-r from-blood-600 to-blood-700 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:from-blood-700 hover:to-blood-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blood-400 transition-all duration-200 hover:scale-105"
                >Scare Scale Approved</a
              >
              <a
                href="/ranks"
                class="text-lg font-semibold text-white hover:text-blood-400 transition-colors duration-200 flex items-center gap-2 group"
                >Horror Ranks <span
                  class="group-hover:translate-x-1 transition-transform"
                  aria-hidden="true">→</span
                ></a
              >
            </div>
          </div>

          <!-- Featured Movie in left column -->
          <div class="hidden lg:block">
            <h3 class="text-xl font-semibold text-white">Featured Movies</h3>
            <FeaturedMovie movie={approvedMovies[0]}/>
            <FeaturedMovie movie={approvedMovies[1]}/>
          </div>
        </div>

        <!-- Right Side - 4 Columns -->
        <div class="col-span-6 lg:col-span-4 flex flex-col justify-center">
          <div class="space-y-6">
            <!-- Featured Movie on mobile/small screens -->
            <div class="lg:hidden">
              <h3 class="text-xl font-semibold text-white">Featured Movies</h3>
              <FeaturedMovie movie={approvedMovies[0]}/>
              <FeaturedMovie movie={approvedMovies[1]}/>
            </div>

            <!-- Movies Grid -->
            <div class="pt-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-semibold text-white">Latest Movies</h3>
                <a
                  href="/all-movies"
                  class="text-lg font-semibold text-white hover:text-blood-400 transition-colors duration-200 flex items-center gap-2 group"
                >
                  View All
                  <span
                    class="group-hover:translate-x-1 transition-transform"
                    aria-hidden="true"
                  >
                    →
                  </span>
                </a>
              </div>
              <MoviesGrid sort={Sort.ReleaseDateDecending} maxCount={15} />
            </div>

            <!-- View More Button -->
            <div class="pt-6 flex justify-center">
              <a
                href="/all-movies"
                class="rounded-lg bg-gradient-to-r from-blood-600 to-blood-700 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:from-blood-700 hover:to-blood-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blood-400 transition-all duration-200 hover:scale-105"
              >
                View More Movies
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</MainLayout>
