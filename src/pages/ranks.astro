---
import { getCollection } from "astro:content";
import MainLayout from "../layouts/MainLayout.astro";
import MoviesGrid, { Sort } from "../components/grids/MoviesGrid.astro";

const movieEntries = await getCollection("movie");

const grids = [
  {
    title: "All time Scariest Movies",
  },
  {
    title: "Scariest Movies 2025",
    props: {
      yearFilter: "2025",
    },
  },
];
---

<MainLayout>
  <section class="flex flex-col gap-y-10 md:gap-y-20 pt-10">
    {
      grids.map((grid) => {
        return (
          <div class="mx-auto max-w-2xl px-6 lg:max-w-7xl lg:px-8">
            <p class="mx-auto m-4 max-w-lg text-center text-2xl font-semibold text-balance text-white sm:text-4xl">
              {grid.title}
            </p>
            <MoviesGrid
              entries={movieEntries}
              sort={Sort.HighestToLowestScore}
              showRank={true}
              maxCount={5}
              {...grid.props}
            />
          </div>
        );
      })
    }
  </section>
</MainLayout>
