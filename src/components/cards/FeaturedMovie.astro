---
import { Image } from "astro:assets";

const { movie } = Astro.props;

---

{movie && (
<a
  href={`/movie/${movie.slug}`}
  class="group block relative overflow-hidden rounded-2xl shadow-2xl hover:shadow-red-500/30 transition-all duration-500 mt-4 sm:mt-6 lg:mt-8"
>
  <!-- Background Image -->
  <div class="relative h-[12rem] sm:h-[16rem] md:h-[20rem] overflow-hidden">
    <Image
      src={movie.backdropUrl || movie.posterUrl}
      alt={`${movie.name} movie backdrop`}
      width={1920}
      height={1080}
      class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-700"
      loading={"eager"}
    />

    <!-- Enhanced gradient overlays -->
    <div class="absolute inset-0 bg-gradient-to-t from-black/95 via-black/60 to-black/20"></div>
    <div class="absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-blood-600/10"></div>

    <!-- Content Overlay -->
    <div class="absolute inset-0 flex items-center ">
      <div class="container mx-auto px-4 sm:px-6 lg:px-12">
        <div class="max-w-4xl">
          <span
          class="inline-flex items-center gap-1.5 sm:gap-2 bg-gradient-to-r from-red-600 to-red-700 text-white text-sm sm:text-lg px-2 sm:px-3 py-1 mb-3 sm:mb-4 rounded-full shadow-lg"
        >
          <img
            class="w-3 h-3 sm:w-4 sm:h-4"
            src={`/icons/official.svg`}
            alt={`Approved Icon`}
          />
          Scare Scale Approved
        </span>

          <h2
            class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black text-white mb-3 sm:mb-4 leading-tight tracking-tight max-w-full"
          >
            <span class="block">{movie.name}</span>
            <span
              class="block text-lg sm:text-xl md:text-2xl lg:text-3xl text-red-400 font-bold mt-1 sm:mt-2"
            >
              ({movie.releaseYear})
            </span>
          </h2>
          <span class="inline-flex items-center justify-center gap-1 whitespace-nowrap text-sm sm:text-base text-white bg-black/50 px-2 py-1 rounded-full">
            <img
              class="w-4 h-4 sm:w-5 sm:h-5 shrink-0 m-1"
              src={`/icons/${movie.getSummaryReview().type}.svg`}
              alt={`${movie.getSummaryReview().type} review icon`}
            />
            <span>{movie.getSummaryReview().overallRating} / 10</span>
          </span>
        </div>
      </div>
    </div>
  </div>
</a>
)}