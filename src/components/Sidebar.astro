---
import Slider from "./Slider.astro";

export interface SidebarProps {
  categories: Array<{ id: string; name: string; icon: string }>;
  onSliderInput: (id: string, value: number) => void;
}

const { categories, onSliderInput } = Astro.props;
---

<aside id="sidebar" class="w-full md:w-1/4 bg-gray-800 p-6 text-white transform transition-transform md:translate-x-0 -translate-x-full fixed md:static z-10">
  <!-- Close Button -->
  <button id="closeSidebar" class="md:hidden text-white absolute top-4 right-4">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
  </button>
  <h3 class="text-2xl font-semibold mb-6 border-b border-gray-600 pb-2">Filters</h3>
  <div class="flex flex-col gap-8">
    {categories.map((category) => (
      <Slider
        id={category.id}
        name={category.name}
        icon={category.icon}
        value={0}
        min={0}
        max={10}
        onInput={(value) => onSliderInput(category.id, value)}
      />
    ))}
  </div>
</aside>
